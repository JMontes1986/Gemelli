---
// src/pages/helpdesk/index.astro
import MainLayout from '../../layouts/MainLayout.astro';
import TicketList from '../../components/TicketList';
---

<MainLayout title="HelpDesk">
  <div class="max-w-7xl mx-auto px-4 py-8">
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Sistema HelpDesk</h1>
      <p class="text-gray-600">Gestiona y da seguimiento a todos los tickets de soporte</p>
    </div>
    
    <TicketList client:load />
  </div>
</MainLayout>

<script>
  // Verificar autenticaci√≥n
  if (typeof window !== 'undefined') {
    const token = localStorage.getItem('access_token');
    if (!token) {
      window.location.href = '/login';
    }
  }
</script>
